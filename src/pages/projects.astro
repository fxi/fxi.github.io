---
import Layout from '../layouts/Layout.astro';
import sideProjects from '../data/projects.json';

const majorProjects = [
  {
    name: "mapx",
    description: "UN-endorsed open platform for geospatial data visualization, supporting global sustainability and environmental governance.",
    tags: ["Node.js", "PostgreSQL", "Redis", "Docker"],
    url: "https://app.mapx.org",
    source: "https://github.com/unep-grid/mapx",
    featured: true,
  },
  {
    name: "accessmod",
    description: "WHO-certified Digital Public Good for modeling geographic accessibility to healthcare services.",
    tags: ["R", "Shiny", "GRASS GIS", "Docker"],
    url: "https://www.accessmod.org",
    source: "https://github.com/unige-geohealth/accessmod",
    featured: true,
  },
];
---

<Layout title="Projects — Fred Moser">
  <h1>Projects</h1>

  <p class="section-label">Major</p>
  <ul class="project-list project-list--featured">
    {majorProjects.map(p => (
      <li class="project-item project-item--featured">
        <span class="project-name">{p.name}</span>
        <span class="project-desc">{p.description}</span>
        <div class="project-meta">
          <div class="project-tags">
            {p.tags.map(t => <span class="tag">{t}</span>)}
          </div>
          <div class="project-links">
            {p.source && <a href={p.source} class="project-link" target="_blank" rel="noopener">source →</a>}
            {p.url && <a href={p.url} class="project-link" target="_blank" rel="noopener">live →</a>}
          </div>
        </div>
      </li>
    ))}
  </ul>

  <p class="section-label">Side projects</p>
  <ul class="project-list">
    {sideProjects.map(p => (
      <li class="project-item">
        <span class="project-name">{p.name}</span>
        <span class="project-year">
          {p.year_init === p.year_last ? p.year_last : `${p.year_init}–${p.year_last}`}
        </span>
        <span class="project-desc">{p.description}</span>
        <div class="project-meta">
          <div class="project-tags">
            {p.tags.map((t: string) => <span class="tag">{t}</span>)}
          </div>
          <div class="project-links">
            {p.repo && <a href={p.repo} class="project-link" target="_blank" rel="noopener">source →</a>}
            {p.url && <a href={p.url} class="project-link" target="_blank" rel="noopener">live →</a>}
          </div>
        </div>
      </li>
    ))}
  </ul>
</Layout>
