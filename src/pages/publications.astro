---
import Layout from '../layouts/Layout.astro';
import { publications } from '../data/publications';

// Sort publications by year (newest first)
const sortedPublications = [...publications].sort((a, b) => b.year - a.year);
---

<Layout title="Publications - Frédéric Moser">
  <h1>Publications</h1>
  <div class="space-y-8">
    {sortedPublications.map((pub) => (
      <article class="card">
        <h2 class="mb-3 text-lg font-medium leading-snug">
          {pub.title}
        </h2>
        <p class="text-sm text-zinc-600 dark:text-zinc-400 mb-3">
          {pub.authors.join(", ")}
        </p>
        <div class="flex flex-wrap gap-x-4 gap-y-2 text-sm text-zinc-500 dark:text-zinc-400">
          <span>{pub.journal} ({pub.year})</span>
          {pub.volume && <span>Vol. {pub.volume}</span>}
          {pub.pages && <span>pp. {pub.pages}</span>}
          <a 
            href={`https://doi.org/${pub.doi}`}
            class="text-zinc-600 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-zinc-100"
            target="_blank"
            rel="noopener noreferrer"
          >
            DOI →
          </a>
        </div>
      </article>
    ))}
  </div>
</Layout>
