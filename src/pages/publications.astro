---
import Layout from '../layouts/Layout.astro';
import { publications } from '../data/publications';

const sorted = [...publications].sort((a, b) => b.year - a.year);
---

<Layout title="Publications — Fred Moser">
  <h1>Publications</h1>

  <ul class="pub-list">
    {sorted.map(pub => (
      <li class="pub-item">
        <p class="pub-title">{pub.title}</p>
        <p class="pub-authors">{pub.authors.join(', ')}</p>
        <div class="pub-meta">
          <span>{pub.journal} · {pub.year}</span>
          {pub.volume && <span>vol. {pub.volume}</span>}
          {pub.pages && <span>pp. {pub.pages}</span>}
          <a
            href={`https://doi.org/${pub.doi}`}
            class="pub-doi"
            target="_blank"
            rel="noopener noreferrer"
          >DOI →</a>
        </div>
      </li>
    ))}
  </ul>
</Layout>
